<h3>{{ data.Name }}</h3>
<mat-divider></mat-divider>
<table>
  <!--
  <tbody>
  <tr>
    <td><strong>ICU - Low Care:</strong> </td>
    <td [ngStyle]="{'background-color': getCapacityStateColor(data.icu_low_summary) }">{{ getLatest(data.icu_low_care_belegt) }} / {{ getLatest(data.icu_low_care_frei) + getLatest(data.icu_low_care_belegt) }} </td>
  </tr>
  <tr>
    <td><strong>ICU - High Care: </strong></td>
    <td [ngStyle]="{'background-color': getCapacityStateColor(data.icu_high_summary) }">{{ getLatest(data.icu_high_care_belegt) }} / {{ getLatest(data.icu_high_care_frei) + getLatest(data.icu_high_care_belegt) }} </td>
  </tr>
  <tr>
    <td><strong>ECMO: </strong></td>
    <td [ngStyle]="{'background-color': getCapacityStateColor(data.icu_ecmo_summary) }">{{ getLatest(data.icu_ecmo_care_belegt) }} / {{ getLatest(data.icu_ecmo_care_frei) + getLatest(data.icu_ecmo_care_belegt) }}</td>
  </tr>
  </tbody>
  -->
  <tbody>
    <tr>
      <th></th>
      <th>ICU - Low Care:</th>
      <th>ICU - High Care:</th>
      <th>ECMO:</th>
    </tr>
    <tr>
      <th>(belegt / gesamt)</th>
      <th [ngStyle]="{'background-color': getCapacityStateColor(data.icu_low_summary) }">{{ getLatest(data.icu_low_care_belegt) }} / {{ getLatest(data.icu_low_care_belegt)    + getLatest(data.icu_low_care_frei)  }} <mat-icon> {{ getTrendIcon(data.icu_low_care_einschaetzung) }} </mat-icon> </th>
      <th [ngStyle]="{'background-color': getCapacityStateColor(data.icu_high_summary) }">{{ getLatest(data.icu_high_care_belegt) }} / {{ getLatest(data.icu_high_care_belegt) + getLatest(data.icu_high_care_frei) }} <mat-icon> {{ getTrendIcon(data.icu_high_care_einschaetzung) }} </mat-icon> </th>
      <th [ngStyle]="{'background-color': getCapacityStateColor(data.icu_ecmo_summary) }">{{ getLatest(data.icu_ecmo_care_belegt) }} / {{ getLatest(data.icu_ecmo_care_belegt) + getLatest(data.icu_ecmo_care_frei) }} <mat-icon> {{ getTrendIcon(data.icu_ecmo_care_einschaetzung) }} </mat-icon> </th>
    </tr>
    <tr>
      <td>% Auslastung</td>
      <td>{{ (getLatest(data.icu_low_care_belegt)  / (getLatest(data.icu_low_care_belegt)  + getLatest(data.icu_low_care_frei)))  * 100 | number : '1.1-1'}}%</td> <!--'1.2-2' means {minIntegerDigits}.{minFractionDigits}-{maxFractionDigits}: A minimum of 1 digit will be shown before decimal point It will show at least 2 digits after decimal point But not more than 2 digits-->
      <td>{{ (getLatest(data.icu_high_care_belegt) / (getLatest(data.icu_high_care_belegt) + getLatest(data.icu_high_care_frei))) * 100 | number : '1.1-1'}}%</td>
      <td>{{ (getLatest(data.icu_ecmo_care_belegt) / (getLatest(data.icu_ecmo_care_belegt) + getLatest(data.icu_ecmo_care_frei))) * 100 | number : '1.1-1'}}%</td>
    </tr>
    <!-- <tr>
      <td># Verf√ºgbar</td>
      <td>{{ getLatest(data.icu_low_care_frei) }}</td>
      <td>{{ getLatest(data.icu_high_care_frei) }}</td>
      <td>{{ getLatest(data.icu_ecmo_care_frei) }}</td>
    </tr>
    <tr>
      <td># Belegt</td>
      <td>{{ getLatest(data.icu_low_care_belegt) }}</td>
      <td>{{ getLatest(data.icu_high_care_belegt) }}</td>
      <td>{{ getLatest(data.icu_ecmo_care_belegt) }}</td>
    </tr> -->
    <tr>
      <td>+ Erwartet</td>
      <td>{{ getLatest(data.icu_low_care_einschaetzung) }}</td>
      <td>{{ getLatest(data.icu_high_care_einschaetzung) }}</td>
      <td>{{ getLatest(data.icu_ecmo_care_einschaetzung) }}</td>
    </tr>
  </tbody>
  
</table>
<br>

<strong>Entwicklung:</strong>
<div *ngFor="let s of specs; let i = index">
  <h5 class="chart-title">{{ this.bedAccessorsMapping[this.bedAccessors[i]] }}</h5>
  <app-vega [spec]="s"></app-vega>
</div>

<div *ngIf="mode === 'dialog'">
  <!--h3>{{ data.Name }}</h3>
  <mat-divider></mat-divider-->
  <p style="margin-top: 10px;">
    <strong>Adresse: </strong> {{ data.Address }}
  </p>
  <p>
    <strong>Kontakt: </strong>
    <a *ngIf="url" href="{{ contact }}">{{ contactMsg }}</a>
    <span *ngIf="!url">{{ contactMsg }}</span>
  </p>
</div>

<p><strong>Letzter Stand: </strong> TODO </p>

